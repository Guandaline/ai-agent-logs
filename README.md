# AI Agent Log Analyzer

## 📖 Description
This project is an **AI agent log analyzer**. It reads a log file, extracts useful insights, and presents the results in a structured format.

## 🚀 Features
- ✅ Count **INFO, ERROR, and WARNING** messages.
- ✅ Extract and list **the most frequent AI responses**.
- ✅ Identify **the most common errors and their frequencies**.
- ✅ **Synthetic log generation** for testing.
- ✅ **Distributed log processing** using **Multiprocessing** and **Ray**.
- ✅ **Automated tests**, including **coverage measurement and performance benchmarking**.

## 📁 Project Structure
```bash
ai-agent-logs/
│── ai_agent_logs/                 # Main source code
│   ├── __init__.py                 # Defines the directory as a Python package
│   ├── log_analyzer.py              # Main log analyzer class
│   ├── log_types.py                 # Enum for log types
│── distributed/                    # Distributed processing modules
│   ├── multiprocessing_analyzer.py  # Multiprocessing-based log processing
│   ├── ray_analyzer.py              # Ray-based log processing
│── tests/                          # Automated tests
│   ├── __init__.py                  # Defines the directory as a Python package
│   ├── test_log_analyzer.py          # Unit tests for the analyzer
│   ├── test_performance.py           # Performance tests using pytest-benchmark
│   ├── test_multiprocessing.py       # Tests for multiprocessing log analysis
│   ├── test_ray.py                   # Tests for Ray-based log processing
│   ├── test_benchmark_multiprocessing.py # Benchmark test for multiprocessing
│   ├── test_benchmark_ray.py         # Benchmark test for Ray
│── tools/                          # Auxiliary scripts
│   ├── generate_sample_logs.py       # Script to generate test logs
│── data/                           # Directory for storing test logs
│   ├── sample_logs.txt               # Sample log file
│── logs/                           # Directory for logs generated by the system
│── .venv/                          # Poetry-managed virtual environment
│── img/                            # Images for the README (e.g., test coverage)
│── README.md                        # Project documentation
│── pyproject.toml                   # Poetry configuration
│── poetry.lock                      # Poetry dependency lock file
│── main.py                          # Entry point for running the log analyzer
│── pytest.ini                        # Pytest configuration
```

## Installation
### Prerequisites
- Python 3.11+
- Poetry (dependency manager)

### Installing the Project
```bash
# Clone the repository
git clone git@github.com:Guandaline/ai-agent-logs.git
cd ai-agent-logs

# Install dependencies with Poetry
poetry install
```

## Usage
### Run the Log Analyzer
```bash
poetry run python main.py
```

### Generate a Synthetic Log File
```bash
poetry run python tools/generate_sample_logs.py data/_large_sample_logs.txt 50000
```

## ⚡ Distributed Processing

### Multiprocessing Log Analysis
```bash
poetry run python distributed/multiprocessing_analyzer.py
```

```bash
poetry run python distributed/ray_analyzer.py
```
## ✅ Testing
### Run All Tests
```bash
poetry run pytest tests/
```

### Measure Test Coverage
```bash
poetry run pytest --cov=ai_agent_logs tests/
```
To visualize the HTML report:
```bash
poetry run pytest --cov=ai_agent_logs --cov-report=html tests/
open htmlcov/index.html  # macOS
xdg-open htmlcov/index.html  # Linux
start htmlcov/index.html  # Windows
```
Sample:
![alt text](img/coverage.png)

## 🏎 Performance Benchmarking
### Multiprocessing Benchmark
```bash
poetry run pytest tests/test_benchmark_multiprocessing.py --benchmark-only
```

### Ray Benchmark
```bash
poetry run pytest tests/test_benchmark_ray.py --benchmark-only
```

### Run All Benchmarks
```bash
poetry run pytest tests/ --benchmark-columns=min,mean,max
```


## 📈 Future Improvements
- 🔹 Streaming process
- 🔹 Add support for JSON logs.
- 🔹 Create a web interface for insight visualization.
- 🔹 Export data to CSV or a database.
- 🔹 Optimize distributed processing for large-scale logs.

## License
This project is distributed under the MIT License.

### ✨ What's New in This Version?

- ✅ Added Distributed Processing with Multiprocessing & Ray
- ✅ Enhanced Automated Tests for scalability & correctness
- ✅ Included Performance Benchmarks for comparison

